(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{346:function(a,t,s){"use strict";s.r(t);var e=s(14),i=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"java-字节码反编译成汇编"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-字节码反编译成汇编"}},[a._v("#")]),a._v(" Java 字节码反编译成汇编")]),a._v(" "),s("blockquote",[s("p",[a._v("本位以windows环境为前提，JDK版本为Oracle Sun JDK8-64位")])]),a._v(" "),s("h2",{attrs:{id:"hsdis环境准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hsdis环境准备"}},[a._v("#")]),a._v(" Hsdis环境准备")]),a._v(" "),s("h3",{attrs:{id:"_1-下载hsdis-amd64-dylib"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载hsdis-amd64-dylib"}},[a._v("#")]),a._v(" 1.下载hsdis-amd64.dylib")]),a._v(" "),s("blockquote",[s("p",[a._v("下载地址如下：https://github.com/evolvedmicrobe/benchmarks/blob/master/hsdis-amd64.dylib")])]),a._v(" "),s("h3",{attrs:{id:"_2-下载hsdis-amd64-dll"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载hsdis-amd64-dll"}},[a._v("#")]),a._v(" 2.下载hsdis-amd64.dll")]),a._v(" "),s("blockquote",[s("p",[a._v("下载地址如下：https://github.com/atzhangsan/file_loaded")])]),a._v(" "),s("h3",{attrs:{id:"_3-配置hsdis-amd64-dylib和hsdis-amd64-dll"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置hsdis-amd64-dylib和hsdis-amd64-dll"}},[a._v("#")]),a._v(" 3.配置hsdis-amd64.dylib和hsdis-amd64.dll")]),a._v(" "),s("p",[a._v("a.将下载好的hsdis-amd64.dll文件放置在JDK路径下"),s("code",[a._v("\\jre\\bin")]),a._v("目录下。")]),a._v(" "),s("blockquote",[s("p",[a._v("e.g. C:\\Program Files\\Java\\jdk1.8.0_161\\jre\\bin")])]),a._v(" "),s("p",[a._v("b.将下载好的hsdis-amd64.dylib文件放置在JDK路径下的"),s("code",[a._v("\\jre\\lib")]),a._v("目录下。")]),a._v(" "),s("blockquote",[s("p",[a._v("e.g. C:\\Program Files\\Java\\jdk1.8.0_161\\jre\\lib")])]),a._v(" "),s("h3",{attrs:{id:"_4-测试验证是否配置成功"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-测试验证是否配置成功"}},[a._v("#")]),a._v(" 4.测试验证是否配置成功")]),a._v(" "),s("p",[a._v("使用命令"),s("code",[a._v("java -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly -version")]),a._v("验证是否配置成功。如果出现如下所示则说明配置成功。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/forge-logic/images-lib/raw/master/img/image-20210414230849483.png",alt:"image-20210414230849483"}})]),a._v(" "),s("h3",{attrs:{id:"_5-自行构建hsdis-如果你有兴趣的话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-自行构建hsdis-如果你有兴趣的话"}},[a._v("#")]),a._v(" 5.自行构建hsdis(如果你有兴趣的话)")]),a._v(" "),s("p",[a._v("如果你有兴趣自行编译hsdis的话，可以参考如下的几个链接，然后把编译好的文件放在jdk的jre目录下的如上所"),s("code",[a._v("3")]),a._v("述路径。")]),a._v(" "),s("p",[a._v("1.http://www.chrisnewland.com/building-hsdis-on-linux-amd64-on-debian-369")]),a._v(" "),s("p",[a._v("2.http://psy-lob-saw.blogspot.com/2013/01/java-print-assembly.html")]),a._v(" "),s("h2",{attrs:{id:"jitwatch环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jitwatch环境"}},[a._v("#")]),a._v(" JITWatch环境")]),a._v(" "),s("h3",{attrs:{id:"_1-下载jitwatch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载jitwatch"}},[a._v("#")]),a._v(" 1.下载JITWatch")]),a._v(" "),s("blockquote",[s("p",[a._v("下载路径如下：https://github.com/AdoptOpenJDK/jitwatch/releases")])]),a._v(" "),s("p",[a._v("如果你有兴趣的话，当然也可以参考官方文档进行编译。")]),a._v(" "),s("p",[a._v("JITWatch链接如下：")]),a._v(" "),s("blockquote",[s("p",[a._v("https://github.com/AdoptOpenJDK/jitwatch")])]),a._v(" "),s("p",[a._v("编译命令如下：")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("ant编译：\nant clean compile "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" run\nmaven编译：\nmvn clean compile "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" exec:java\ngradle编译：\ngradlew clean build run\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h3",{attrs:{id:"_2-配置运行jitwatch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置运行jitwatch"}},[a._v("#")]),a._v(" 2.配置运行JITWatch")]),a._v(" "),s("p",[a._v("a.启动，使用"),s("code",[a._v("java -jar jitwatch-ui-1.4.0-shaded-win.jar")]),a._v("启动jitwatch，启动成功后如下所示")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/forge-logic/images-lib/raw/master/img/image-20210414232505669.png",alt:"image-20210414232505669"}})]),a._v(" "),s("p",[a._v("b.配置，点击"),s("code",[a._v("sandbox")]),a._v("按钮打开窗口，再点击"),s("code",[a._v("Configure Sandbox")]),a._v("按钮，配置如下几个参数")]),a._v(" "),s("blockquote",[s("p",[a._v("1.java classes目录")]),a._v(" "),s("p",[a._v("2.java 运行目录为你本地的配置使用的JDK路径")]),a._v(" "),s("p",[a._v("3.java运行参数，添加hsdis的运行参数配置")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/forge-logic/images-lib/raw/master/img/image-20210414233652204.png",alt:"image-20210414233652204"}})]),a._v(" "),s("p",[a._v("c.运行，点击"),s("code",[a._v("open")]),a._v("按钮打开需要编译的java代码，点击"),s("code",[a._v("Run")]),a._v("按钮运行得到下图所示")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/forge-logic/images-lib/raw/master/img/image-20210414232726380.png",alt:"image-20210414232726380"}})]),a._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/forge-logic/images-lib/raw/master/img/image-20210414234418226.png",alt:"image-20210414234418226"}})]),a._v(" "),s("h3",{attrs:{id:"_3-jitwatch简单使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-jitwatch简单使用"}},[a._v("#")]),a._v(" 3.JITwatch简单使用")]),a._v(" "),s("h4",{attrs:{id:"模块化查看字节码和汇编码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模块化查看字节码和汇编码"}},[a._v("#")]),a._v(" 模块化查看字节码和汇编码")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/forge-logic/images-lib/raw/master/img/image-20210414234700267.png",alt:"image-20210414234700267"}})]),a._v(" "),s("h4",{attrs:{id:"使用toplist查看资源占用率"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用toplist查看资源占用率"}},[a._v("#")]),a._v(" 使用topList查看资源占用率")]),a._v(" "),s("p",[a._v("在JITWatch窗口点击"),s("code",[a._v("TopList")]),a._v("按钮，即可查看资源占用率。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://gitee.com/forge-logic/images-lib/raw/master/img/image-20210414235239556.png",alt:"image-20210414235239556"}})]),a._v(" "),s("h4",{attrs:{id:"更多资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更多资料"}},[a._v("#")]),a._v(" 更多资料")]),a._v(" "),s("p",[a._v("1.https://www.chrisnewland.com/images/jitwatch/HotSpot_Profiling_Using_JITWatch.pdf")]),a._v(" "),s("p",[a._v("2.https://github.com/AdoptOpenJDK/jitwatch/wiki")]),a._v(" "),s("h2",{attrs:{id:"参考文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[a._v("#")]),a._v(" 参考文章")]),a._v(" "),s("p",[a._v("1.利用hsdis和JITWatch查看分析HotSpot JIT compiler生成的汇编代码.https://blog.csdn.net/hengyunabc/article/details/26898657")]),a._v(" "),s("p",[a._v("2.JITWatch Wiki.https://github.com/AdoptOpenJDK/jitwatch/wiki")]),a._v(" "),s("blockquote",[s("p",[a._v("我的博客即将同步至腾讯云+社区，邀请大家一同入驻：https://cloud.tencent.com/developer/support-plan?invite_code=17nuh698omdi4")])])])}),[],!1,null,null,null);t.default=i.exports}}]);